var idCategoriaPlatillo;$(document).ready(function(){idCategoriaPlatillo="";cargarDatos()});$(document).on("keyup","#txtBuscarCategoria",function(){$("#tableCategoria").DataTable().column(0).search($(this).val()).draw()});$(document).on("click","#btn-registrar-categoria",function(){idCategoriaPlatillo="";$("#cargarForm").html($("#contenidoHTML1").html());$("#btn-guardar").attr({value:"/restaurant/create_categoria_platillos"});$("#labelModal").html("Registrar Categoría");$("#modal").modal("show")});$(document).on("click",".editar",function(){idCategoriaPlatillo=$(this).attr("value");$("#cargarForm").html($("#contenidoHTML1").html());$("#txtCategoria").val($(this).parents("tr").find("td")[0].innerHTML);$("#btn-guardar").attr({value:"/restaurant/editar_categoria_platillos"});$("#labelModal").html("Editar Categoría");$("#modal").modal("show")});$(document).on("click","#btn-guardar",function(){var parametros;if(idCategoriaPlatillo==""){parametros={'categoria':$("#txtCategoria").val()}}else{parametros={'idCategoriaPlatillo':idCategoriaPlatillo,'categoria':$("#txtCategoria").val()}}
$.ajax({url:$(this).attr("value"),data:parametros,type:"GET",dataType:"json",success:function(data){$("#modal").modal("hide");cargarDatos()}})});$(document).on("click",".eliminar",function(){idCategoriaPlatillo=$(this).attr("value");$("#cargarForm").html($("#contenidoHTML2").html());$("#nombreCategoriaPlatillo").html($(this).parents("tr").find("td")[0].innerHTML);$("#labelModal").html("Eliminar Categoría");$("#modal").modal("show")});$(document).on("click","#btn-eliminar",function(){$.ajax({url:"/restaurant/eliminar_categoria_platillos",data:{'idCategoriaPlatillo':idCategoriaPlatillo},type:"GET",dataType:"json",success:function(data){$("#modal").modal("hide");cargarDatos()}})});function cargarDatos(){$.ajax({url:"/restaurant/lista_categoria_platillos",type:'GET',dataType:"json",success:function(data){$("#tableCategoria").DataTable({searching:!0,destroy:!0,data:data,ordering:!1,columns:[{"data":"categoria"},{sortable:!1,"render":function(data,type,full,meta){var id=full.idCategoriaPlatillo;var htmlButton='<button type=\"button\" class=\"btn btn-outline-success btn-sm editar\" value='+id+'><i class=\"fa fa-pencil\" aria-hidden=\"true\"></i></button>&nbsp;&nbsp;&nbsp';htmlButton+='<button type=\"button\" class=\"btn btn-outline-danger btn-sm eliminar\"  value='+id+'><i class="fa fa-times" aria-hidden="true"></i></button>';return htmlButton}},]});$("#tableCategoria_filter").hide()}})}
